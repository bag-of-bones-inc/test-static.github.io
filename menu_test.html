
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=width=device-width,initial-scale=1.0,maximum-scale=2.0,minimum-scale=1.0,user-scalable=yes"><title>MyPage｜OneSignal</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<!-- <link rel="manifest" href="../manifest.json"> -->
	<!-- <link href="./css/main_mp.css" rel="stylesheet" type="text/css"> -->
	<!-- <link href="./css/button_mp.css" rel="stylesheet" type="text/css"> -->
	<!-- OneSignalで、プッシュ通知の送信確認プロンプト表示、トークン発行の処理 -->
	<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script><script>
	  window.OneSignalDeferred = window.OneSignalDeferred || [];
	  OneSignalDeferred.push(function(OneSignal) {
	    OneSignal.init({
	      appId: "6970c1c2-d726-4426-ac3b-b029c0fc0bce",
	      // safari_web_id: "web.onesignal.auto.235723f6-f2ef-49f2-bb5e-e966332d4e54",
	      notifyButton: {
	        enable: true,
	      },
	      // serviceWorkerParam: { scope: "/one-signal-static-website/" },
    	  // serviceWorkerPath: "one-signal-static-website/OneSignalSDKWorker.js",
	      // promptOptions: {
	      //   slidedown: {
	      //     prompts: [
	      //       {
	      //         type: "push",
	      //         autoPrompt: true,
	      //         text: {
	      //           actionMessage: "We'd like to show you notifications for the latest news and updates.",
	      //           acceptButton: "Allow",
	      //           cancelButton: "Cancel"
	      //         },
	      //         delay: {
	      //           pageViews: 0,
	      //           timeDelay: 5
	      //         }
	      //       }
	      //     ]
	      //   }
	      // }
	    });

	    const eventListener = (()=>{
			OneSignal.Notifications.addEventListener("permissionChange", ()=>{
				if (!permission) {
					console.log('promptSlide')
					OneSignal.Slidedown.promptPush()
				}
			})
		});

		setTimeout(eventListener(), 5000);

	  });
	  
    // OneSignal.login("100234")
  
	const addTag = (()=>{
	  OneSignal.User.addTag("test", "1");
	  alert("tag added");
	});

	const promptSlide = (()=>{
		OneSignal.Slidedown.promptPush()
	});
	

	</script>
	</head>
	<body class="admin bg_white">
	<header>
	    <div class="head_bar">
	        <div>
	            <h1>OneSignal Test</h1>
	        </div>
	    </div>
	</header>
	<ul class="btn_wrap_mp" align="center">
		<button type="button" class="btn btn-primary" onclick="addTag()">Add Tag</button>
		<button type="button" class="btn btn-primary" onclick="promptSlide()">Prompt Slide</button>
	</ul>
	</body>
</html>